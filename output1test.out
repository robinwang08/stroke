2019-09-17 14:09:46.029408: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 AVX512F FMA
2019-09-17 14:09:46.339141: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1432] Found device 0 with properties: 
name: Quadro GV100 major: 7 minor: 0 memoryClockRate(GHz): 1.627
pciBusID: 0000:20:00.0
totalMemory: 31.72GiB freeMemory: 31.31GiB
2019-09-17 14:09:46.339200: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-09-17 14:10:31.163674: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-09-17 14:10:31.163730: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-09-17 14:10:31.163745: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-09-17 14:10:31.165025: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/device:GPU:0 with 30378 MB memory) -> physical GPU (device: 0, name: Quadro GV100, pci bus id: 0000:20:00.0, compute capability: 7.0)
Given configuration file:  /home/user1/robin/stroke/stroke/examples/configFiles/stroke/model/modelConfig.cfg
Given configuration file:  /home/user1/robin/stroke/stroke/examples/configFiles/stroke/test/testConfig.cfg
Creating necessary folders for testing session...
	>>Created folder for session:  /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm
	>>Created folder for segmentations and probability maps:  /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/
	>>Created folder for features:  /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features/
=============================== logger created =======================================

======================== Starting new session ============================
Command line arguments given: 
Namespace(device='cuda0', model_cfg='./examples/configFiles/stroke/model/modelConfig.cfg', reset_trainer=False, saved_model='/media/user1/my4TB/robin/stroke/output/saved_models/trainSessionDm/stroke.trainSessionDm.final.2019-09-17.11.36.23.981196.model.ckpt', test_cfg='./examples/configFiles/stroke/test/testConfig.cfg', train_cfg=None)
Available devices to Tensorflow:
[name: "/device:CPU:0"
device_type: "CPU"
memory_limit: 268435456
locality {
}
incarnation: 13815057940384549632
, name: "/device:XLA_GPU:0"
device_type: "XLA_GPU"
memory_limit: 17179869184
locality {
}
incarnation: 16443212658118276161
physical_device_desc: "device: XLA_GPU device"
, name: "/device:XLA_CPU:0"
device_type: "XLA_CPU"
memory_limit: 17179869184
locality {
}
incarnation: 17615744158011490584
physical_device_desc: "device: XLA_CPU device"
, name: "/device:GPU:0"
device_type: "GPU"
memory_limit: 31854546125
locality {
  bus_id: 1
  links {
  }
}
incarnation: 8181515853489687134
physical_device_desc: "device: 0, name: Quadro GV100, pci bus id: 0000:20:00.0, compute capability: 7.0"
]
CONFIG: The configuration file for the [model] given is: /home/user1/robin/stroke/stroke/examples/configFiles/stroke/model/modelConfig.cfg
=============================================================
========== PARAMETERS FOR MAKING THE ARCHITECTURE ===========
=============================================================
CNN model's name = stroke
~~~~~~~~~~~~~~~~~~Model parameters~~~~~~~~~~~~~~~~
Number of Classes (including background) = 2
~~Normal Pathway~~
Number of Input Channels = 4
Number of Layers = 8
Number of Feature Maps per layer = [30, 30, 40, 40, 40, 40, 50, 50]
Kernel Dimensions per layer = [[3, 3, 3], [3, 3, 3], [3, 3, 3], [3, 3, 3], [3, 3, 3], [3, 3, 3], [3, 3, 3], [3, 3, 3]]
Receptive Field = [17, 17, 17]
Residual connections added at the output of layers (indices from 0) = [3, 5, 7]
Layers that will be made of Lower Rank (indices from 0) = []
Lower Rank layers will be made of rank = []
~~Subsampled Pathway~~
Use subsampled Pathway = False
Number of subsampled pathways that will be built = 0
Number of Layers (per sub-pathway) = []
Number of Feature Maps per layer (per sub-pathway) = []
Kernel Dimensions per layer = []
Receptive Field = []
Subsampling Factor per dimension (per sub-pathway) = []
Residual connections added at the output of layers (indices from 0) = []
Layers that will be made of Lower Rank (indices from 0) = []
Lower Rank layers will be made of rank = []
~~Fully Connected Pathway~~
Number of additional FC layers (Excluding the Classif. Layer) = 2
Number of Feature Maps in the additional FC layers = [250, 250]
Residual connections added at the output of layers (indices from 0) = [1]
Layers that will be made of Lower Rank (indices from 0) = []
Dimensions of Kernels in the 1st FC layer (Classif. layer if no hidden FCs used) = [3, 3, 3]
~~Size Of Image Segments~~
Size of Segments for Training = [37, 37, 37]
Size of Segments for Validation = [17, 17, 17]
Size of Segments for Testing = [45, 45, 45]
~~Dropout Rates~~
Drop.R. for each layer in Normal Pathway = []
Drop.R. for each layer in Subsampled Pathway = []
Drop.R. for each layer in FC Pathway (additional FC layers + Classific.Layer at end) = [0.0, 0.5, 0.5]
~~Weight Initialization~~
Initialization method and params for the conv kernel weights = ['fanIn', 2]
~~Activation Function~~
Activation function to use = prelu
~~Batch Normalization~~
Apply BN straight on pathways' inputs (eg straight on segments) = [False, False, True]
Batch Normalization uses a rolling average for inference, over this many batches = 60
========== Done with printing session's parameters ==========
=============================================================
CONFIG: The configuration file for the [session] was loaded from: /home/user1/robin/stroke/stroke/examples/configFiles/stroke/test/testConfig.cfg

============     NEW TESTING SESSION    ===============

=============================================================
=========== PARAMETERS OF THIS TESTING SESSION ==============
=============================================================
sessionName = testSessionDm
Model will be loaded from save = /media/user1/my4TB/robin/stroke/output/saved_models/trainSessionDm/stroke.trainSessionDm.final.2019-09-17.11.36.23.981196.model.ckpt
~~~~~~~~~~~~~~~~~~~~INPUT~~~~~~~~~~~~~~~~
Number of cases to perform inference on = 24
Paths to the channels of each case = [['/media/user1/my4TB/robin/stroke/new_all_padded/case_51/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_51/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_51/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_51/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/220/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/220/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/220/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/220/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_89/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_89/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_89/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_89/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_1/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_1/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_1/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_1/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/79/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/79/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/79/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/79/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_28/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_28/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_28/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_28/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_11/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_11/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_11/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_11/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_85/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_85/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_85/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_85/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/72/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/72/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/72/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/72/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/118/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/118/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/118/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/118/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_77/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_77/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_77/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_77/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/66/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/66/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/66/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/66/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/104/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/104/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/104/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/104/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_46/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_46/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_46/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_46/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_44/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_44/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_44/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_44/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_22/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_22/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_22/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_22/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_79/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_79/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_79/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_79/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/94/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/94/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/94/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/94/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/116/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/116/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/116/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/116/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/224/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/224/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/224/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/224/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/226/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/226/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/226/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/226/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_45/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_45/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_45/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_45/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/case_32/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_32/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_32/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_32/Tmax.nii'], ['/media/user1/my4TB/robin/stroke/new_all_padded/177/MTT.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/177/rCBF.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/177/rCBV.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/177/Tmax.nii']]
Paths to provided GT labels per case = ['/media/user1/my4TB/robin/stroke/new_all_padded/case_51/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/220/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_89/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_1/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/79/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_28/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_11/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_85/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/72/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/118/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_77/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/66/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/104/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_46/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_44/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_22/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_79/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/94/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/116/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/224/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/226/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_45/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_32/label.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/177/label.nii']
Filepaths of the ROI Masks provided per case = ['/media/user1/my4TB/robin/stroke/new_all_padded/case_51/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/220/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_89/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_1/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/79/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_28/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_11/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_85/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/72/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/118/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_77/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/66/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/104/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_46/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_44/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_22/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_79/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/94/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/116/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/224/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/226/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_45/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/case_32/mask.nii', '/media/user1/my4TB/robin/stroke/new_all_padded/177/mask.nii']
Batch size = 10
~~~~~~~~~~~~~~~~~~~OUTPUT~~~~~~~~~~~~~~~
Path to the main output-folder = /media/user1/my4TB/robin/stroke/output
Provided names to use to save results for each case = ['case_51-pred.nii', '220-pred.nii', 'case_89-pred.nii', 'case_1-pred.nii', '79-pred.nii', 'case_28-pred.nii', 'case_11-pred.nii', 'case_85-pred.nii', '72-pred.nii', '118-pred.nii', 'case_77-pred.nii', '66-pred.nii', '104-pred.nii', 'case_46-pred.nii', 'case_44-pred.nii', 'case_22-pred.nii', 'case_79-pred.nii', '94-pred.nii', '116-pred.nii', '224-pred.nii', '226-pred.nii', 'case_45-pred.nii', 'case_32-pred.nii', '177-pred.nii']
~~~~~~~Ouput-parameters for Predictions (segmentation and probability maps)~~~~
Save the predicted segmentation = True
Save the probability maps = [True, True]
Paths where to save predictions per case = ['/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_51-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//220-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_89-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_1-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//79-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_28-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_11-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_85-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//72-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//118-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_77-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//66-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//104-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_46-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_44-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_22-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_79-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//94-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//116-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//224-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//226-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_45-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//case_32-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions//177-pred.nii']
Suffixes with which to save segmentations and probability maps = {'segm': 'Segm', 'prob': 'ProbMapClass'}
~~~~~~~Ouput-parameters for Feature Maps (FMs)~~~~~~
Save FMs in individual images = False
Save all requested FMs in one 4D image = False
Indices of min/max FMs to save, per type of pathway (normal/subsampled/FC) and per layer = None
Save Feature Maps at = ['/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_51-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//220-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_89-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_1-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//79-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_28-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_11-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_85-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//72-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//118-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_77-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//66-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//104-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_46-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_44-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_22-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_79-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//94-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//116-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//224-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//226-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_45-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//case_32-pred.nii', '/media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/features//177-pred.nii']2019-09-17 14:10:32.936778: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1511] Adding visible gpu devices: 0
2019-09-17 14:10:32.936822: I tensorflow/core/common_runtime/gpu/gpu_device.cc:982] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-09-17 14:10:32.936829: I tensorflow/core/common_runtime/gpu/gpu_device.cc:988]      0 
2019-09-17 14:10:32.936835: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1001] 0:   N 
2019-09-17 14:10:32.937220: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 30378 MB memory) -> physical GPU (device: 0, name: Quadro GV100, pci bus id: 0000:20:00.0, compute capability: 7.0)

~~~~~~~ Parameters for Preprocessing ~~~~~~
Pad Input Images = True
========== Done with printing session's parameters ==========
=============================================================

=======================================================

=========== Making the CNN graph... ===============
...Building the CNN model...
[Pathway_NORMAL] is being built...
	[Pathway_NORMAL]: Input's Shape: (Train) [None, 4, 37, 37, 37], (Val) [None, 4, 17, 17, 17], (Test) [None, 4, 45, 45, 45]
	[Conv.Layer_0], Filter Shape: [30, 4, 3, 3, 3]
	[Conv.Layer_0], Input's Shape: (Train) [None, 4, 37, 37, 37], (Val) [None, 4, 17, 17, 17], (Test) [None, 4, 45, 45, 45]
	[Conv.Layer_1], Filter Shape: [30, 30, 3, 3, 3]
	[Conv.Layer_1], Input's Shape: (Train) [None, 30, 35, 35, 35], (Val) [None, 30, 15, 15, 15], (Test) [None, 30, 43, 43, 43]
	[Conv.Layer_2], Filter Shape: [40, 30, 3, 3, 3]
	[Conv.Layer_2], Input's Shape: (Train) [None, 30, 33, 33, 33], (Val) [None, 30, 13, 13, 13], (Test) [None, 30, 41, 41, 41]
	[Conv.Layer_3], Filter Shape: [40, 40, 3, 3, 3]
	[Conv.Layer_3], Input's Shape: (Train) [None, 40, 31, 31, 31], (Val) [None, 40, 11, 11, 11], (Test) [None, 40, 39, 39, 39]
	[Pathway_NORMAL]: making Residual Connection between output of [Layer_3] to input of previous layer.
	[Conv.Layer_4], Filter Shape: [40, 40, 3, 3, 3]
	[Conv.Layer_4], Input's Shape: (Train) [None, 40, 29, 29, 29], (Val) [None, 40, 9, 9, 9], (Test) [None, 40, 37, 37, 37]
	[Conv.Layer_5], Filter Shape: [40, 40, 3, 3, 3]
	[Conv.Layer_5], Input's Shape: (Train) [None, 40, 27, 27, 27], (Val) [None, 40, 7, 7, 7], (Test) [None, 40, 35, 35, 35]
	[Pathway_NORMAL]: making Residual Connection between output of [Layer_5] to input of previous layer.
	[Conv.Layer_6], Filter Shape: [50, 40, 3, 3, 3]
	[Conv.Layer_6], Input's Shape: (Train) [None, 40, 25, 25, 25], (Val) [None, 40, 5, 5, 5], (Test) [None, 40, 33, 33, 33]
	[Conv.Layer_7], Filter Shape: [50, 50, 3, 3, 3]
	[Conv.Layer_7], Input's Shape: (Train) [None, 50, 23, 23, 23], (Val) [None, 50, 3, 3, 3], (Test) [None, 50, 31, 31, 31]
	[Pathway_NORMAL]: making Residual Connection between output of [Layer_7] to input of previous layer.
	[Pathway_NORMAL]: Output's Shape: (Train) [None, 50, 21, 21, 21], (Val) [None, 50, 1, 1, 1], (Test) [None, 50, 29, 29, 29]
[Pathway_NORMAL] done.
DEBUG: Shape of the kernel of the first FC layer is : [3, 3, 3]
DEBUG: Input to the FC Pathway will be padded by that many voxels per dimension: [2, 2, 2]
[Pathway_FC] is being built...
	[Pathway_FC]: Input's Shape: (Train) [None, 50, 23, 23, 23], (Val) [None, 50, 3, 3, 3], (Test) [None, 50, 31, 31, 31]
	[Conv.Layer_0], Filter Shape: [250, 50, 3, 3, 3]
	[Conv.Layer_0], Input's Shape: (Train) [None, 50, 23, 23, 23], (Val) [None, 50, 3, 3, 3], (Test) [None, 50, 31, 31, 31]
	[Conv.Layer_1], Filter Shape: [250, 250, 1, 1, 1]
	[Conv.Layer_1], Input's Shape: (Train) [None, 250, 21, 21, 21], (Val) [None, 250, 1, 1, 1], (Test) [None, 250, 29, 29, 29]
	[Pathway_FC]: making Residual Connection between output of [Layer_1] to input of previous layer.
	[Conv.Layer_2], Filter Shape: [2, 250, 1, 1, 1]
	[Conv.Layer_2], Input's Shape: (Train) [None, 250, 21, 21, 21], (Val) [None, 250, 1, 1, 1], (Test) [None, 250, 29, 29, 29]
	[Pathway_FC]: Output's Shape: (Train) [None, 2, 21, 21, 21], (Val) [None, 2, 1, 1, 1], (Test) [None, 2, 29, 29, 29]
[Pathway_FC] done.
Adding the final Softmax Target layer...
Finished building the CNN's model.
=========== Compiling the Testing Function ============
=======================================================

...Building the function for testing and visualisation of FMs...
...Collecting ops and feeds for testing...
Done.
=========== Loading parameters from specified saved model ===============
Loading parameters from:/media/user1/my4TB/robin/stroke/output/saved_models/trainSessionDm/stroke.trainSessionDm.final.2019-09-17.11.36.23.981196.model.ckpt
Parameters were loaded.

======================================================
=========== Testing with the CNN model ===============
======================================================

###########################################################################################################
############################# Starting full Segmentation of Testing subjects ##########################
###########################################################################################################
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #0 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_51/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:130
Processed 10/130 segments.
Processed 20/130 segments.
Processed 40/130 segments.
Processed 60/130 segments.
Processed 80/130 segments.
Processed 100/130 segments.
Processed 120/130 segments.
Processed 130/130 segments.
TIMING: Segmentation of subject: [Extracting:] 0.00 [Loading:] 0.11 [ForwardPass:] 5.79 [Total:] 5.89 secs.
Saving the new label (segmentation) image for the subject #0
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_51-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #0
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_51-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #0
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_51-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #0 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #0 equal: DICE1=[ 0.0019 0.0019 ] DICE2=[ 0.0019 0.0019 ] DICE3=[ 0.0019 0.0019 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #1 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/220/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:180
Processed 10/180 segments.
Processed 30/180 segments.
Processed 60/180 segments.
Processed 90/180 segments.
Processed 120/180 segments.
Processed 150/180 segments.
Processed 180/180 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.25 [ForwardPass:] 3.16 [Total:] 3.42 secs.
Saving the new label (segmentation) image for the subject #1
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/220-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #1
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/220-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #1
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/220-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #1 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #1 equal: DICE1=[ 0.1188 0.1188 ] DICE2=[ 0.1198 0.1198 ] DICE3=[ 0.1237 0.1237 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #2 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_89/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:290
Processed 10/290 segments.
Processed 50/290 segments.
Processed 100/290 segments.
Processed 150/290 segments.
Processed 200/290 segments.
Processed 250/290 segments.
Processed 290/290 segments.
TIMING: Segmentation of subject: [Extracting:] 0.02 [Loading:] 0.42 [ForwardPass:] 5.06 [Total:] 5.49 secs.
Saving the new label (segmentation) image for the subject #2
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_89-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #2
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_89-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #2
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_89-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #2 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #2 equal: DICE1=[ 0.0494 0.0494 ] DICE2=[ 0.0522 0.0522 ] DICE3=[ 0.0522 0.0522 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #3 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_1/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:140
Processed 10/140 segments.
Processed 20/140 segments.
Processed 40/140 segments.
Processed 60/140 segments.
Processed 80/140 segments.
Processed 100/140 segments.
Processed 120/140 segments.
Processed 140/140 segments.
TIMING: Segmentation of subject: [Extracting:] 0.02 [Loading:] 0.14 [ForwardPass:] 2.44 [Total:] 2.60 secs.
Saving the new label (segmentation) image for the subject #3
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_1-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #3
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_1-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #3
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_1-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #3 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #3 equal: DICE1=[ 0.0000 0.0000 ] DICE2=[ 0.0000 0.0000 ] DICE3=[ 0.0000 0.0000 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #4 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/79/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:130
Processed 10/130 segments.
Processed 20/130 segments.
Processed 40/130 segments.
Processed 60/130 segments.
Processed 80/130 segments.
Processed 100/130 segments.
Processed 120/130 segments.
Processed 130/130 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.15 [ForwardPass:] 2.26 [Total:] 2.42 secs.
Saving the new label (segmentation) image for the subject #4
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/79-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #4
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/79-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #4
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/79-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #4 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #4 equal: DICE1=[ 0.1812 0.1812 ] DICE2=[ 0.1839 0.1839 ] DICE3=[ 0.1839 0.1839 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #5 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_28/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:130
Processed 10/130 segments.
Processed 20/130 segments.
Processed 40/130 segments.
Processed 60/130 segments.
Processed 80/130 segments.
Processed 100/130 segments.
Processed 120/130 segments.
Processed 130/130 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.13 [ForwardPass:] 2.27 [Total:] 2.41 secs.
Saving the new label (segmentation) image for the subject #5
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_28-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #5
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_28-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #5
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_28-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #5 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #5 equal: DICE1=[ 0.1624 0.1624 ] DICE2=[ 0.1621 0.1621 ] DICE3=[ 0.1688 0.1688 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #6 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_11/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:90
Processed 10/90 segments.
Processed 20/90 segments.
Processed 30/90 segments.
Processed 40/90 segments.
Processed 50/90 segments.
Processed 60/90 segments.
Processed 70/90 segments.
Processed 80/90 segments.
Processed 90/90 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.08 [ForwardPass:] 1.58 [Total:] 1.68 secs.
Saving the new label (segmentation) image for the subject #6
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_11-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #6
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_11-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #6
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_11-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #6 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #6 equal: DICE1=[ 0.2219 0.2219 ] DICE2=[ 0.2221 0.2221 ] DICE3=[ 0.2221 0.2221 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #7 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_85/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:260
Processed 10/260 segments.
Processed 50/260 segments.
Processed 100/260 segments.
Processed 150/260 segments.
Processed 200/260 segments.
Processed 250/260 segments.
Processed 260/260 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.37 [ForwardPass:] 4.53 [Total:] 4.92 secs.
Saving the new label (segmentation) image for the subject #7
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_85-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #7
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_85-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #7
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_85-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #7 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #7 equal: DICE1=[ 0.4576 0.4576 ] DICE2=[ 0.4619 0.4619 ] DICE3=[ 0.4746 0.4746 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #8 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/72/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:160
Processed 10/160 segments.
Processed 30/160 segments.
Processed 60/160 segments.
Processed 90/160 segments.
Processed 120/160 segments.
Processed 150/160 segments.
Processed 160/160 segments.
TIMING: Segmentation of subject: [Extracting:] 0.02 [Loading:] 0.22 [ForwardPass:] 2.82 [Total:] 3.06 secs.
Saving the new label (segmentation) image for the subject #8
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/72-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #8
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/72-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #8
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/72-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #8 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #8 equal: DICE1=[ 0.0000 0.0000 ] DICE2=[ 0.0000 0.0000 ] DICE3=[ 0.0000 0.0000 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #9 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/118/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:150
Processed 10/150 segments.
Processed 30/150 segments.
Processed 60/150 segments.
Processed 90/150 segments.
Processed 120/150 segments.
Processed 150/150 segments.
TIMING: Segmentation of subject: [Extracting:] 0.02 [Loading:] 0.21 [ForwardPass:] 2.60 [Total:] 2.83 secs.
Saving the new label (segmentation) image for the subject #9
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/118-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #9
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/118-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #9
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/118-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #9 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #9 equal: DICE1=[ 0.0000 0.0000 ] DICE2=[ 0.0000 0.0000 ] DICE3=[ 0.0000 0.0000 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #10 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_77/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:130
Processed 10/130 segments.
Processed 20/130 segments.
Processed 40/130 segments.
Processed 60/130 segments.
Processed 80/130 segments.
Processed 100/130 segments.
Processed 120/130 segments.
Processed 130/130 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.12 [ForwardPass:] 2.25 [Total:] 2.39 secs.
Saving the new label (segmentation) image for the subject #10
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_77-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #10
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_77-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #10
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_77-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #10 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #10 equal: DICE1=[ 0.7155 0.7155 ] DICE2=[ 0.7155 0.7155 ] DICE3=[ 0.7232 0.7232 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #11 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/66/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:160
Processed 10/160 segments.
Processed 30/160 segments.
Processed 60/160 segments.
Processed 90/160 segments.
Processed 120/160 segments.
Processed 150/160 segments.
Processed 160/160 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.22 [ForwardPass:] 2.79 [Total:] 3.02 secs.
Saving the new label (segmentation) image for the subject #11
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/66-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #11
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/66-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #11
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/66-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #11 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #11 equal: DICE1=[ 0.0003 0.0003 ] DICE2=[ 0.0003 0.0003 ] DICE3=[ 0.0003 0.0003 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #12 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/104/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:150
Processed 10/150 segments.
Processed 30/150 segments.
Processed 60/150 segments.
Processed 90/150 segments.
Processed 120/150 segments.
Processed 150/150 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.21 [ForwardPass:] 2.62 [Total:] 2.84 secs.
Saving the new label (segmentation) image for the subject #12
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/104-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #12
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/104-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #12
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/104-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #12 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #12 equal: DICE1=[ 0.0610 0.0610 ] DICE2=[ 0.0614 0.0614 ] DICE3=[ 0.0614 0.0614 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #13 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_46/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:120
Processed 10/120 segments.
Processed 20/120 segments.
Processed 40/120 segments.
Processed 60/120 segments.
Processed 80/120 segments.
Processed 100/120 segments.
Processed 120/120 segments.
TIMING: Segmentation of subject: [Extracting:] 0.02 [Loading:] 0.12 [ForwardPass:] 2.12 [Total:] 2.25 secs.
Saving the new label (segmentation) image for the subject #13
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_46-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #13
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_46-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #13
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_46-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #13 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #13 equal: DICE1=[ 0.4773 0.4773 ] DICE2=[ 0.4773 0.4773 ] DICE3=[ 0.4773 0.4773 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #14 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_44/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:130
Processed 10/130 segments.
Processed 20/130 segments.
Processed 40/130 segments.
Processed 60/130 segments.
Processed 80/130 segments.
Processed 100/130 segments.
Processed 120/130 segments.
Processed 130/130 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.13 [ForwardPass:] 2.27 [Total:] 2.41 secs.
Saving the new label (segmentation) image for the subject #14
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_44-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #14
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_44-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #14
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_44-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #14 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #14 equal: DICE1=[ 0.7465 0.7465 ] DICE2=[ 0.7462 0.7462 ] DICE3=[ 0.7571 0.7571 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #15 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_22/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:90
Processed 10/90 segments.
Processed 20/90 segments.
Processed 30/90 segments.
Processed 40/90 segments.
Processed 50/90 segments.
Processed 60/90 segments.
Processed 70/90 segments.
Processed 80/90 segments.
Processed 90/90 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.08 [ForwardPass:] 1.58 [Total:] 1.67 secs.
Saving the new label (segmentation) image for the subject #15
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_22-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #15
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_22-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #15
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_22-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #15 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #15 equal: DICE1=[ 0.0029 0.0029 ] DICE2=[ 0.0029 0.0029 ] DICE3=[ 0.0029 0.0029 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #16 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_79/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:120
Processed 10/120 segments.
Processed 20/120 segments.
Processed 40/120 segments.
Processed 60/120 segments.
Processed 80/120 segments.
Processed 100/120 segments.
Processed 120/120 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.12 [ForwardPass:] 2.11 [Total:] 2.23 secs.
Saving the new label (segmentation) image for the subject #16
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_79-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #16
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_79-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #16
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_79-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #16 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #16 equal: DICE1=[ 0.1765 0.1765 ] DICE2=[ 0.1773 0.1773 ] DICE3=[ 0.1773 0.1773 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #17 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/94/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:150
Processed 10/150 segments.
Processed 30/150 segments.
Processed 60/150 segments.
Processed 90/150 segments.
Processed 120/150 segments.
Processed 150/150 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.20 [ForwardPass:] 2.64 [Total:] 2.85 secs.
Saving the new label (segmentation) image for the subject #17
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/94-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #17
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/94-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #17
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/94-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #17 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #17 equal: DICE1=[ 0.0506 0.0506 ] DICE2=[ 0.0504 0.0504 ] DICE3=[ 0.0540 0.0540 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #18 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/116/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:150
Processed 10/150 segments.
Processed 30/150 segments.
Processed 60/150 segments.
Processed 90/150 segments.
Processed 120/150 segments.
Processed 150/150 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.21 [ForwardPass:] 2.65 [Total:] 2.87 secs.
Saving the new label (segmentation) image for the subject #18
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/116-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #18
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/116-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #18
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/116-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #18 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #18 equal: DICE1=[ 0.0000 0.0000 ] DICE2=[ 0.0000 0.0000 ] DICE3=[ 0.0000 0.0000 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #19 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/224/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:210
Processed 10/210 segments.
Processed 40/210 segments.
Processed 80/210 segments.
Processed 120/210 segments.
Processed 160/210 segments.
Processed 200/210 segments.
Processed 210/210 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.29 [ForwardPass:] 3.69 [Total:] 4.00 secs.
Saving the new label (segmentation) image for the subject #19
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/224-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #19
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/224-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #19
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/224-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #19 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #19 equal: DICE1=[ 0.0000 0.0000 ] DICE2=[ 0.0000 0.0000 ] DICE3=[ 0.0000 0.0000 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #20 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/226/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:150
Processed 10/150 segments.
Processed 30/150 segments.
Processed 60/150 segments.
Processed 90/150 segments.
Processed 120/150 segments.
Processed 150/150 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.21 [ForwardPass:] 2.64 [Total:] 2.86 secs.
Saving the new label (segmentation) image for the subject #20
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/226-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #20
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/226-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #20
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/226-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #20 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #20 equal: DICE1=[ 0.0148 0.0148 ] DICE2=[ 0.0149 0.0149 ] DICE3=[ 0.0149 0.0149 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #21 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_45/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:140
Processed 10/140 segments.
Processed 20/140 segments.
Processed 40/140 segments.
Processed 60/140 segments.
Processed 80/140 segments.
Processed 100/140 segments.
Processed 120/140 segments.
Processed 140/140 segments.
TIMING: Segmentation of subject: [Extracting:] 0.02 [Loading:] 0.13 [ForwardPass:] 2.45 [Total:] 2.60 secs.
Saving the new label (segmentation) image for the subject #21
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_45-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #21
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_45-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #21
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_45-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #21 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #21 equal: DICE1=[ 0.3818 0.3818 ] DICE2=[ 0.3842 0.3842 ] DICE3=[ 0.3842 0.3842 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #22 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/case_32/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:120
Processed 10/120 segments.
Processed 20/120 segments.
Processed 40/120 segments.
Processed 60/120 segments.
Processed 80/120 segments.
Processed 100/120 segments.
Processed 120/120 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.12 [ForwardPass:] 2.12 [Total:] 2.24 secs.
Saving the new label (segmentation) image for the subject #22
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_32-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #22
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_32-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #22
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/case_32-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #22 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #22 equal: DICE1=[ 0.6320 0.6320 ] DICE2=[ 0.6325 0.6325 ] DICE3=[ 0.6365 0.6365 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~ Segmenting subject with index #23 ~~~~~~~~~~~~~~~~~~~~
 Loading subject with 1st channel at: /media/user1/my4TB/robin/stroke/new_all_padded/177/MTT.nii
 WARN: Loaded labels are dtype [float64]. Rounding and casting them to int!
Starting to (tile) extract Segments from the images of the subject for Segmentation...
Finished (tiling) extracting Segments from the images of the subject for Segmentation.
Starting to segment each image-part by calling the cnn.cnnTestModel(i). This part takes a few mins per volume...
Total number of Segments to process:150
Processed 10/150 segments.
Processed 30/150 segments.
Processed 60/150 segments.
Processed 90/150 segments.
Processed 120/150 segments.
Processed 150/150 segments.
TIMING: Segmentation of subject: [Extracting:] 0.01 [Loading:] 0.19 [ForwardPass:] 2.62 [Total:] 2.82 secs.
Saving the new label (segmentation) image for the subject #23
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/177-pred_Segm.nii.gz
Saving the new label (segmentation) image for the subject #23
Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/177-pred_ProbMapClass0.nii.gz
Saving the new label (segmentation) image for the subject #23/home/user1/Envs/stroke-7IP6OJ3H/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:523: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint8 = np.dtype([("qint8", np.int8, 1)])
/home/user1/Envs/stroke-7IP6OJ3H/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:524: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint8 = np.dtype([("quint8", np.uint8, 1)])
/home/user1/Envs/stroke-7IP6OJ3H/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint16 = np.dtype([("qint16", np.int16, 1)])
/home/user1/Envs/stroke-7IP6OJ3H/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_quint16 = np.dtype([("quint16", np.uint16, 1)])
/home/user1/Envs/stroke-7IP6OJ3H/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  _np_qint32 = np.dtype([("qint32", np.int32, 1)])
/home/user1/Envs/stroke-7IP6OJ3H/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:532: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.
  np_resource = np.dtype([("resource", np.ubyte, 1)])

Image saved at: /media/user1/my4TB/robin/stroke/output/predictions/testSessionDm/predictions/177-pred_ProbMapClass1.nii.gz
+++++++++++++++++++++ Reporting Segmentation Metrics for the subject #23 ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class DICE Coefficients for subject with index #23 equal: DICE1=[ 0.0000 0.0000 ] DICE2=[ 0.0000 0.0000 ] DICE3=[ 0.0000 0.0000 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
+++++++++++++++++++++++++++++++ Segmentation of all subjects finished +++++++++++++++++++++++++++++++++++
+++++++++++++++++++++ Reporting Average Segmentation Metrics over all subjects ++++++++++++++++++++++++++
ACCURACY: (Testing) The Per-Class average DICE Coefficients over all subjects are: DICE1=[ 0.1855 0.1855 ] DICE2=[ 0.1861 0.1861 ] DICE3=[ 0.1882 0.1882 ]
EXPLANATION: DICE1/2/3 are lists with the DICE per class. For Class-0, we calculate DICE for whole foreground, i.e all labels merged, except the background label=0. Useful for multi-class problems.
EXPLANATION: DICE1 is calculated as segmentation over whole volume VS whole Ground Truth (GT). DICE2 is the segmentation within the ROI vs GT. DICE3 is segmentation within the ROI vs the GT within the ROI.
EXPLANATION: If an ROI mask has been provided, you should be consulting DICE2 or DICE3.
TIMING: Testing process lasted: 152.24 secs.
###########################################################################################################
############################# Finished full Segmentation of Testing subjects ##########################
###########################################################################################################

======================================================
=========== Testing session finished =================
======================================================
Finished.
